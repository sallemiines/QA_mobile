"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.RemoteMessages = void 0;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

class RemoteMessages {
  constructor(isTargetBased = false) {
    this.isTargetBased = isTargetBased;
  }

  setCommunicationProtocol(isTargetBased) {
    this.isTargetBased = isTargetBased;
  }

  setConnectionKey(opts = {}) {
    const {
      connId
    } = opts;
    return {
      __argument: {
        WIRConnectionIdentifierKey: connId
      },
      __selector: '_rpc_reportIdentifier:'
    };
  }

  connectToApp(opts = {}) {
    const {
      connId,
      appIdKey
    } = opts;
    return {
      __argument: {
        WIRConnectionIdentifierKey: connId,
        WIRApplicationIdentifierKey: appIdKey
      },
      __selector: '_rpc_forwardGetListing:'
    };
  }

  setSenderKey(opts = {}) {
    const {
      connId,
      senderId,
      appIdKey,
      pageIdKey
    } = opts;
    return {
      __argument: {
        WIRApplicationIdentifierKey: appIdKey,
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRPageIdentifierKey: pageIdKey,
        WIRAutomaticallyPause: false
      },
      __selector: '_rpc_forwardSocketSetup:'
    };
  }

  indicateWebView(opts = {}) {
    const {
      connId,
      appIdKey,
      pageIdKey
    } = opts;
    const {
      enabled
    } = opts.opts;
    return {
      __argument: {
        WIRApplicationIdentifierKey: appIdKey,
        WIRIndicateEnabledKey: _lodash.default.isUndefined(enabled) ? true : enabled,
        WIRConnectionIdentifierKey: connId,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardIndicateWebView:'
    };
  }

  launchApplication(opts = {}) {
    const {
      bundleId
    } = opts;
    return {
      __argument: {
        WIRApplicationBundleIdentifierKey: bundleId
      },
      __selector: '_rpc_requestApplicationLaunch:'
    };
  }

  getFullCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      targetId,
      id
    } = opts;
    let realMethod;
    let realParams;

    if (this.isTargetBased) {
      realMethod = 'Target.sendMessageToTarget';
      realParams = {
        targetId,
        message: JSON.stringify({
          id,
          method,
          params: { ...params,
            objectGroup: 'console',
            includeCommandLineAPI: true,
            doNotPauseOnExceptionsAndMuteConsole: false,
            emulateUserGesture: false,
            generatePreview: true,
            saveResult: true
          }
        })
      };
    } else {
      realMethod = method;
      realParams = { ...params,
        objectGroup: 'console',
        includeCommandLineAPI: true,
        doNotPauseOnExceptionsAndMuteConsole: false,
        emulateUserGesture: false
      };
    }

    const plist = {
      __argument: {
        WIRSocketDataKey: {
          method: realMethod,
          params: realParams
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getMinimalCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      targetId,
      id
    } = opts;
    let realMethod = method;
    let realParams = params;

    if (this.isTargetBased) {
      realMethod = 'Target.sendMessageToTarget';
      realParams = {
        targetId,
        message: JSON.stringify({
          id,
          method,
          params
        })
      };
    }

    const plist = {
      __argument: {
        WIRSocketDataKey: {
          method: realMethod,
          params: realParams
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getDirectCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      id
    } = opts;
    const plist = {
      __argument: {
        WIRSocketDataKey: {
          id,
          method,
          params
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getRemoteCommand(command, opts) {
    const {
      id,
      connId,
      appIdKey,
      senderId,
      pageIdKey,
      targetId
    } = opts;
    let method, params;

    switch (command) {
      case 'setConnectionKey':
        return this.setConnectionKey({
          connId
        });

      case 'indicateWebView':
        return this.indicateWebView({
          connId,
          appIdKey,
          pageIdKey,
          opts
        });

      case 'connectToApp':
        return this.connectToApp({
          connId,
          appIdKey
        });

      case 'setSenderKey':
        return this.setSenderKey({
          connId,
          senderId,
          appIdKey,
          pageIdKey
        });

      case 'launchApplication':
        return this.launchApplication(opts);

      case 'targetExists':
        method = 'Target.exists';
        return this.getDirectCommand({
          method,
          connId,
          senderId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableInspector':
        method = 'Inspector.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'inspectorInitialized':
        method = 'Inspector.initialized';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableDomStorage':
        method = 'DOMStorage.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableDatabase':
        method = 'Database.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableIndexDB':
        method = 'IndexDB.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableCSS':
        method = 'CSS.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableRuntime':
        method = 'Runtime.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableHeap':
        method = 'Heap.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableMemory':
        method = 'Memory.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableApplicationCache':
        method = 'ApplicationCache.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableDebugger':
        method = 'Debugger.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'setBreakpointsActive':
        method = 'Debugger.setBreakpointsActive';
        params = {
          active: opts.active
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'setPauseOnExceptions':
        method = 'Debugger.setPauseOnExceptions';
        params = {
          state: opts.state
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'setPauseOnAssertions':
        method = 'Debugger.setPauseOnAssertions';
        params = {
          enabled: opts.enabled
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'setAsyncStackTraceDepth':
        method = 'Debugger.setAsyncStackTraceDepth';
        params = {
          depth: opts.depth
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'setPauseForInternalScripts':
        method = 'Debugger.setPauseForInternalScripts';
        params = {
          shouldPause: opts.shouldPause
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableLayerTree':
        method = 'LayerTree.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableWorker':
        method = 'Worker.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableCanvas':
        method = 'Canvas.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'sendJSCommand':
        method = 'Runtime.evaluate';
        params = {
          expression: opts.command,
          returnByValue: _lodash.default.isBoolean(opts.returnByValue) ? opts.returnByValue : true
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'callJSFunction':
        method = 'Runtime.callFunctionOn';
        params = {
          objectId: opts.objId,
          functionDeclaration: opts.fn,
          arguments: opts.args,
          returnByValue: true
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'setUrl':
        method = 'Page.navigate';
        params = {
          url: opts.url
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enablePage':
        method = 'Page.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'startTimeline':
        method = 'Timeline.start';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'stopTimeline':
        method = 'Timeline.stop';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'getConsoleLoggingChannels':
        method = 'Console.getLoggingChannels';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'setConsoleLoggingChannelLevel':
        method = 'Console.setLoggingChannelLevel';
        params = {
          source: opts.source,
          level: opts.level
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'enableConsole':
        method = 'Console.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'disableConsole':
        method = 'Console.disable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'startNetwork':
        method = 'Network.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'stopNetwork':
        method = 'Network.disable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'getCookies':
        method = 'Page.getCookies';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'deleteCookie':
        method = 'Page.deleteCookie';
        params = {
          cookieName: opts.cookieName,
          url: opts.url
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'garbageCollect':
        method = 'Heap.gc';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'awaitPromise':
        method = 'Runtime.awaitPromise';
        params = {
          promiseObjectId: opts.promiseObjectId,
          returnByValue: true,
          generatePreview: true,
          saveResult: true
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      default:
        throw new Error(`Unknown command: ${command}`);
    }
  }

}

exports.RemoteMessages = RemoteMessages;
var _default = RemoteMessages;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9yZW1vdGUtbWVzc2FnZXMuanMiXSwibmFtZXMiOlsiUmVtb3RlTWVzc2FnZXMiLCJjb25zdHJ1Y3RvciIsImlzVGFyZ2V0QmFzZWQiLCJzZXRDb21tdW5pY2F0aW9uUHJvdG9jb2wiLCJzZXRDb25uZWN0aW9uS2V5Iiwib3B0cyIsImNvbm5JZCIsIl9fYXJndW1lbnQiLCJXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleSIsIl9fc2VsZWN0b3IiLCJjb25uZWN0VG9BcHAiLCJhcHBJZEtleSIsIldJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleSIsInNldFNlbmRlcktleSIsInNlbmRlcklkIiwicGFnZUlkS2V5IiwiV0lSU2VuZGVyS2V5IiwiV0lSUGFnZUlkZW50aWZpZXJLZXkiLCJXSVJBdXRvbWF0aWNhbGx5UGF1c2UiLCJpbmRpY2F0ZVdlYlZpZXciLCJlbmFibGVkIiwiV0lSSW5kaWNhdGVFbmFibGVkS2V5IiwiXyIsImlzVW5kZWZpbmVkIiwibGF1bmNoQXBwbGljYXRpb24iLCJidW5kbGVJZCIsIldJUkFwcGxpY2F0aW9uQnVuZGxlSWRlbnRpZmllcktleSIsImdldEZ1bGxDb21tYW5kIiwibWV0aG9kIiwicGFyYW1zIiwidGFyZ2V0SWQiLCJpZCIsInJlYWxNZXRob2QiLCJyZWFsUGFyYW1zIiwibWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvYmplY3RHcm91cCIsImluY2x1ZGVDb21tYW5kTGluZUFQSSIsImRvTm90UGF1c2VPbkV4Y2VwdGlvbnNBbmRNdXRlQ29uc29sZSIsImVtdWxhdGVVc2VyR2VzdHVyZSIsImdlbmVyYXRlUHJldmlldyIsInNhdmVSZXN1bHQiLCJwbGlzdCIsIldJUlNvY2tldERhdGFLZXkiLCJvbWl0QnkiLCJpc05pbCIsImdldE1pbmltYWxDb21tYW5kIiwiZ2V0RGlyZWN0Q29tbWFuZCIsImdldFJlbW90ZUNvbW1hbmQiLCJjb21tYW5kIiwiYWN0aXZlIiwic3RhdGUiLCJkZXB0aCIsInNob3VsZFBhdXNlIiwiZXhwcmVzc2lvbiIsInJldHVybkJ5VmFsdWUiLCJpc0Jvb2xlYW4iLCJvYmplY3RJZCIsIm9iaklkIiwiZnVuY3Rpb25EZWNsYXJhdGlvbiIsImZuIiwiYXJndW1lbnRzIiwiYXJncyIsInVybCIsInNvdXJjZSIsImxldmVsIiwiY29va2llTmFtZSIsInByb21pc2VPYmplY3RJZCIsIkVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUdBLE1BQU1BLGNBQU4sQ0FBcUI7QUFDbkJDLEVBQUFBLFdBQVcsQ0FBRUMsYUFBYSxHQUFHLEtBQWxCLEVBQXlCO0FBQ2xDLFNBQUtBLGFBQUwsR0FBcUJBLGFBQXJCO0FBQ0Q7O0FBRURDLEVBQUFBLHdCQUF3QixDQUFFRCxhQUFGLEVBQWlCO0FBQ3ZDLFNBQUtBLGFBQUwsR0FBcUJBLGFBQXJCO0FBQ0Q7O0FBTURFLEVBQUFBLGdCQUFnQixDQUFFQyxJQUFJLEdBQUcsRUFBVCxFQUFhO0FBQzNCLFVBQU07QUFBQ0MsTUFBQUE7QUFBRCxRQUFXRCxJQUFqQjtBQUNBLFdBQU87QUFDTEUsTUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLFFBQUFBLDBCQUEwQixFQUFFRjtBQURsQixPQURQO0FBSUxHLE1BQUFBLFVBQVUsRUFBRTtBQUpQLEtBQVA7QUFNRDs7QUFFREMsRUFBQUEsWUFBWSxDQUFFTCxJQUFJLEdBQUcsRUFBVCxFQUFhO0FBQ3ZCLFVBQU07QUFBQ0MsTUFBQUEsTUFBRDtBQUFTSyxNQUFBQTtBQUFULFFBQXFCTixJQUEzQjtBQUNBLFdBQU87QUFDTEUsTUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLFFBQUFBLDBCQUEwQixFQUFFRixNQURsQjtBQUVWTSxRQUFBQSwyQkFBMkIsRUFBRUQ7QUFGbkIsT0FEUDtBQUtMRixNQUFBQSxVQUFVLEVBQUU7QUFMUCxLQUFQO0FBT0Q7O0FBRURJLEVBQUFBLFlBQVksQ0FBRVIsSUFBSSxHQUFHLEVBQVQsRUFBYTtBQUN2QixVQUFNO0FBQUNDLE1BQUFBLE1BQUQ7QUFBU1EsTUFBQUEsUUFBVDtBQUFtQkgs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IFJlbW90ZU1lc3NhZ2VzIHtcbiAgY29uc3RydWN0b3IgKGlzVGFyZ2V0QmFzZWQgPSBmYWxzZSkge1xuICAgIHRoaXMuaXNUYXJnZXRCYXNlZCA9IGlzVGFyZ2V0QmFzZWQ7XG4gIH1cblxuICBzZXRDb21tdW5pY2F0aW9uUHJvdG9jb2wgKGlzVGFyZ2V0QmFzZWQpIHtcbiAgICB0aGlzLmlzVGFyZ2V0QmFzZWQgPSBpc1RhcmdldEJhc2VkO1xuICB9XG5cbiAgLypcbiAgICogQ29ubmVjdGlvbiBmdW5jdGlvbnNcbiAgICovXG5cbiAgc2V0Q29ubmVjdGlvbktleSAob3B0cyA9IHt9KSB7XG4gICAgY29uc3Qge2Nvbm5JZH0gPSBvcHRzO1xuICAgIHJldHVybiB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUkNvbm5lY3Rpb25JZGVudGlmaWVyS2V5OiBjb25uSWRcbiAgICAgIH0sXG4gICAgICBfX3NlbGVjdG9yOiAnX3JwY19yZXBvcnRJZGVudGlmaWVyOidcbiAgICB9O1xuICB9XG5cbiAgY29ubmVjdFRvQXBwIChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7Y29ubklkLCBhcHBJZEtleX0gPSBvcHRzO1xuICAgIHJldHVybiB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUkNvbm5lY3Rpb25JZGVudGlmaWVyS2V5OiBjb25uSWQsXG4gICAgICAgIFdJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTogYXBwSWRLZXlcbiAgICAgIH0sXG4gICAgICBfX3NlbGVjdG9yOiAnX3JwY19mb3J3YXJkR2V0TGlzdGluZzonXG4gICAgfTtcbiAgfVxuXG4gIHNldFNlbmRlcktleSAob3B0cyA9IHt9KSB7XG4gICAgY29uc3Qge2Nvbm5JZCwgc2VuZGVySWQsIGFwcElkS2V5LCBwYWdlSWRLZXl9ID0gb3B0cztcbiAgICByZXR1cm4ge1xuICAgICAgX19hcmd1bWVudDoge1xuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleTogY29ubklkLFxuICAgICAgICBXSVJTZW5kZXJLZXk6IHNlbmRlcklkLFxuICAgICAgICBXSVJQYWdlSWRlbnRpZmllcktleTogcGFnZUlkS2V5LFxuICAgICAgICBXSVJBdXRvbWF0aWNhbGx5UGF1c2U6IGZhbHNlXG4gICAgICB9LFxuICAgICAgX19zZWxlY3RvcjogJ19ycGNfZm9yd2FyZFNvY2tldFNldHVwOidcbiAgICB9O1xuICB9XG5cbiAgaW5kaWNhdGVXZWJWaWV3IChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7Y29ubklkLCBhcHBJZEtleSwgcGFnZUlkS2V5fSA9IG9wdHM7XG4gICAgY29uc3Qge2VuYWJsZWR9ID0gb3B0cy5vcHRzO1xuICAgIHJldHVybiB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTogYXBwSWRLZXksXG4gICAgICAgIFdJUkluZGljYXRlRW5hYmxlZEtleTogXy5pc1VuZGVmaW5lZChlbmFibGVkKSA/IHRydWUgOiBlbmFibGVkLFxuICAgICAgICBXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleTogY29ubklkLFxuICAgICAgICBXSVJQYWdlSWRlbnRpZmllcktleTogcGFnZUlkS2V5XG4gICAgICB9LFxuICAgICAgX19zZWxlY3RvcjogJ19ycGNfZm9yd2FyZEluZGljYXRlV2ViVmlldzonXG4gICAgfTtcbiAgfVxuXG4gIGxhdW5jaEFwcGxpY2F0aW9uIChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7YnVuZGxlSWR9ID0gb3B0cztcbiAgICByZXR1cm4ge1xuICAgICAgX19hcmd1bWVudDoge1xuICAgICAgICBXSVJBcHBsaWNhdGlvbkJ1bmRsZUlkZW50aWZpZXJLZXk6IGJ1bmRsZUlkXG4gICAgICB9LFxuICAgICAgX19zZWxlY3RvcjogJ19ycGNfcmVxdWVzdEFwcGxpY2F0aW9uTGF1bmNoOidcbiAgICB9O1xuICB9XG5cbiAgZ2V0RnVsbENvbW1hbmQgKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHBhcmFtcyxcbiAgICAgIGNvbm5JZCxcbiAgICAgIHNlbmRlcklkLFxuICAgICAgYXBwSWRLZXksXG4gICAgICBwYWdlSWRLZXksXG4gICAgICB0YXJnZXRJZCxcbiAgICAgIGlkLFxuICAgIH0gPSBvcHRzO1xuXG4gICAgLyogVGhlIFdlYiBJbnNwZWN0b3IgaGFzIGEgbnVtYmVyIG9mIHBhcmFtZXRlcnMgdGhhdCBjYW4gYmUgcGFzc2VkIGluLCBhc1xuICAgICAqIHNlZW4gd2hlbiBkdW1waW5nIHdoYXQgU2FmYXJpIGlzIGRvaW5nIHdoZW4gY29tbXVuaWNhdGluZyB3aXRoIGl0LiBNb3N0XG4gICAgICogYXJlIGtlcHQgYXMgdGhleSBhcmUgc2V0IGZvciBTYWZhcmkuIFRoZSBleGNlcHRpb24gaXMgYGVtdWxhdGVVc2VyR2VzdHVyZWBcbiAgICAgKiB3aGljaCwgb24gaU9TIDEzKywgYnJlYWtzIHBvcHVwIGJsb2NraW5nIChpLmUuLCBldmVuIHdpdGggdGhlIHBvcHVwXG4gICAgICogYmxvY2tpbmcgc2V0dGluZyBvbiwgbmV3IHdpbmRvd3MgYXJlIG9wZW5hYmxlIGJvdGggZnJvbSBsaW5rcyBhbmQgZnJvbVxuICAgICAqIEpBdmFTY3JpcHQpLlxuICAgICAqL1xuXG4gICAgbGV0IHJlYWxNZXRob2Q7XG4gICAgbGV0IHJlYWxQYXJhbXM7XG4gICAgaWYgKHRoaXMuaXNUYXJnZXRCYXNlZCkge1xuICAgICAgcmVhbE1ldGhvZCA9ICdUYXJnZXQuc2VuZE1lc3NhZ2VUb1RhcmdldCc7XG4gICAgICByZWFsUGFyYW1zID0ge1xuICAgICAgICB0YXJnZXRJZCxcbiAgICAgICAgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgIG9iamVjdEdyb3VwOiAnY29uc29sZScsXG4gICAgICAgICAgICBpbmNsdWRlQ29tbWFuZExpbmVBUEk6IHRydWUsXG4gICAgICAgICAgICBkb05vdFBhdXNlT25FeGNlcHRpb25zQW5kTXV0ZUNvbnNvbGU6IGZhbHNlLFxuICAgICAgICAgICAgZW11bGF0ZVVzZXJHZXN0dXJlOiBmYWxzZSxcbiAgICAgICAgICAgIGdlbmVyYXRlUHJldmlldzogdHJ1ZSxcbiAgICAgICAgICAgIHNhdmVSZXN1bHQ6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWxNZXRob2QgPSBtZXRob2Q7XG4gICAgICByZWFsUGFyYW1zID0ge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIG9iamVjdEdyb3VwOiAnY29uc29sZScsXG4gICAgICAgIGluY2x1ZGVDb21tYW5kTGluZUFQSTogdHJ1ZSxcbiAgICAgICAgZG9Ob3RQYXVzZU9uRXhjZXB0aW9uc0FuZE11dGVDb25zb2xlOiBmYWxzZSxcbiAgICAgICAgZW11bGF0ZVVzZXJHZXN0dXJlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcGxpc3QgPSB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUlNvY2tldERhdGFLZXk6IHtcbiAgICAgICAgICBtZXRob2Q6IHJlYWxNZXRob2QsXG4gICAgICAgICAgcGFyYW1zOiByZWFsUGFyYW1zLFxuICAgICAgICB9LFxuICAgICAgICBXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleTogY29ubklkLFxuICAgICAgICBXSVJTZW5kZXJLZXk6IHNlbmRlcklkLFxuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJQYWdlSWRlbnRpZmllcktleTogcGFnZUlkS2V5LFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRTb2NrZXREYXRhOicsXG4gICAgfTtcbiAgICByZXR1cm4gXy5vbWl0QnkocGxpc3QsIF8uaXNOaWwpO1xuICB9XG5cbiAgZ2V0TWluaW1hbENvbW1hbmQgKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgdGFyZ2V0SWQsIGlkfSA9IG9wdHM7XG5cbiAgICBsZXQgcmVhbE1ldGhvZCA9IG1ldGhvZDtcbiAgICBsZXQgcmVhbFBhcmFtcyA9IHBhcmFtcztcbiAgICBpZiAodGhpcy5pc1RhcmdldEJhc2VkKSB7XG4gICAgICByZWFsTWV0aG9kID0gJ1RhcmdldC5zZW5kTWVzc2FnZVRvVGFyZ2V0JztcbiAgICAgIHJlYWxQYXJhbXMgPSB7XG4gICAgICAgIHRhcmdldElkLFxuICAgICAgICBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHBsaXN0ID0ge1xuICAgICAgX19hcmd1bWVudDoge1xuICAgICAgICBXSVJTb2NrZXREYXRhS2V5OiB7XG4gICAgICAgICAgbWV0aG9kOiByZWFsTWV0aG9kLFxuICAgICAgICAgIHBhcmFtczogcmVhbFBhcmFtcyxcbiAgICAgICAgfSxcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZCxcbiAgICAgICAgV0lSU2VuZGVyS2V5OiBzZW5kZXJJZCxcbiAgICAgICAgV0lSQXBwbGljYXRpb25JZGVudGlmaWVyS2V5OiBhcHBJZEtleSxcbiAgICAgICAgV0lSUGFnZUlkZW50aWZpZXJLZXk6IHBhZ2VJZEtleSxcbiAgICAgIH0sXG4gICAgICBfX3NlbGVjdG9yOiAnX3JwY19mb3J3YXJkU29ja2V0RGF0YTonXG4gICAgfTtcbiAgICByZXR1cm4gXy5vbWl0QnkocGxpc3QsIF8uaXNOaWwpO1xuICB9XG5cbiAgZ2V0RGlyZWN0Q29tbWFuZCAob3B0cyA9IHt9KSB7XG4gICAgY29uc3Qge21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0gPSBvcHRzO1xuXG4gICAgY29uc3QgcGxpc3QgPSB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUlNvY2tldERhdGFLZXk6IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICB9LFxuICAgICAgICBXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleTogY29ubklkLFxuICAgICAgICBXSVJTZW5kZXJLZXk6IHNlbmRlcklkLFxuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJQYWdlSWRlbnRpZmllcktleTogcGFnZUlkS2V5LFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRTb2NrZXREYXRhOidcbiAgICB9O1xuICAgIHJldHVybiBfLm9taXRCeShwbGlzdCwgXy5pc05pbCk7XG4gIH1cblxuICBnZXRSZW1vdGVDb21tYW5kIChjb21tYW5kLCBvcHRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBjb25uSWQsXG4gICAgICBhcHBJZEtleSxcbiAgICAgIHNlbmRlcklkLFxuICAgICAgcGFnZUlkS2V5LFxuICAgICAgdGFyZ2V0SWQsXG4gICAgfSA9IG9wdHM7XG5cbiAgICBsZXQgbWV0aG9kLCBwYXJhbXM7XG5cbiAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgIGNhc2UgJ3NldENvbm5lY3Rpb25LZXknOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRDb25uZWN0aW9uS2V5KHtjb25uSWR9KTtcbiAgICAgIGNhc2UgJ2luZGljYXRlV2ViVmlldyc6XG4gICAgICAgIHJldHVybiB0aGlzLmluZGljYXRlV2ViVmlldyh7Y29ubklkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBvcHRzfSk7XG4gICAgICBjYXNlICdjb25uZWN0VG9BcHAnOlxuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0VG9BcHAoe2Nvbm5JZCwgYXBwSWRLZXl9KTtcbiAgICAgIGNhc2UgJ3NldFNlbmRlcktleSc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFNlbmRlcktleSh7Y29ubklkLCBzZW5kZXJJZCwgYXBwSWRLZXksIHBhZ2VJZEtleX0pO1xuICAgICAgY2FzZSAnbGF1bmNoQXBwbGljYXRpb24nOlxuICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hBcHBsaWNhdGlvbihvcHRzKTtcblxuICAgICAgY2FzZSAndGFyZ2V0RXhpc3RzJzpcbiAgICAgICAgbWV0aG9kID0gJ1RhcmdldC5leGlzdHMnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXJlY3RDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdlbmFibGVJbnNwZWN0b3InOlxuICAgICAgICBtZXRob2QgPSAnSW5zcGVjdG9yLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnaW5zcGVjdG9ySW5pdGlhbGl6ZWQnOlxuICAgICAgICBtZXRob2QgPSAnSW5zcGVjdG9yLmluaXRpYWxpemVkJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdlbmFibGVEb21TdG9yYWdlJzpcbiAgICAgICAgbWV0aG9kID0gJ0RPTVN0b3JhZ2UuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdlbmFibGVEYXRhYmFzZSc6XG4gICAgICAgIG1ldGhvZCA9ICdEYXRhYmFzZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2VuYWJsZUluZGV4REInOlxuICAgICAgICBtZXRob2QgPSAnSW5kZXhEQi5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2VuYWJsZUNTUyc6XG4gICAgICAgIG1ldGhvZCA9ICdDU1MuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdlbmFibGVSdW50aW1lJzpcbiAgICAgICAgbWV0aG9kID0gJ1J1bnRpbWUuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdlbmFibGVIZWFwJzpcbiAgICAgICAgbWV0aG9kID0gJ0hlYXAuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdlbmFibGVNZW1vcnknOlxuICAgICAgICBtZXRob2QgPSAnTWVtb3J5LmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnZW5hYmxlQXBwbGljYXRpb25DYWNoZSc6XG4gICAgICAgIG1ldGhvZCA9ICdBcHBsaWNhdGlvbkNhY2hlLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnZW5hYmxlRGVidWdnZXInOlxuICAgICAgICBtZXRob2QgPSAnRGVidWdnZXIuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdzZXRCcmVha3BvaW50c0FjdGl2ZSc6XG4gICAgICAgIG1ldGhvZCA9ICdEZWJ1Z2dlci5zZXRCcmVha3BvaW50c0FjdGl2ZSc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBhY3RpdmU6IG9wdHMuYWN0aXZlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnc2V0UGF1c2VPbkV4Y2VwdGlvbnMnOlxuICAgICAgICBtZXRob2QgPSAnRGVidWdnZXIuc2V0UGF1c2VPbkV4Y2VwdGlvbnMnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgc3RhdGU6IG9wdHMuc3RhdGUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdzZXRQYXVzZU9uQXNzZXJ0aW9ucyc6XG4gICAgICAgIG1ldGhvZCA9ICdEZWJ1Z2dlci5zZXRQYXVzZU9uQXNzZXJ0aW9ucyc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBlbmFibGVkOiBvcHRzLmVuYWJsZWQsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdzZXRBc3luY1N0YWNrVHJhY2VEZXB0aCc6XG4gICAgICAgIG1ldGhvZCA9ICdEZWJ1Z2dlci5zZXRBc3luY1N0YWNrVHJhY2VEZXB0aCc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBkZXB0aDogb3B0cy5kZXB0aCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ3NldFBhdXNlRm9ySW50ZXJuYWxTY3JpcHRzJzpcbiAgICAgICAgbWV0aG9kID0gJ0RlYnVnZ2VyLnNldFBhdXNlRm9ySW50ZXJuYWxTY3JpcHRzJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIHNob3VsZFBhdXNlOiBvcHRzLnNob3VsZFBhdXNlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnZW5hYmxlTGF5ZXJUcmVlJzpcbiAgICAgICAgbWV0aG9kID0gJ0xheWVyVHJlZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2VuYWJsZVdvcmtlcic6XG4gICAgICAgIG1ldGhvZCA9ICdXb3JrZXIuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdlbmFibGVDYW52YXMnOlxuICAgICAgICBtZXRob2QgPSAnQ2FudmFzLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnc2VuZEpTQ29tbWFuZCc6XG4gICAgICAgIG1ldGhvZCA9ICdSdW50aW1lLmV2YWx1YXRlJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGV4cHJlc3Npb246IG9wdHMuY29tbWFuZCxcbiAgICAgICAgICByZXR1cm5CeVZhbHVlOiBfLmlzQm9vbGVhbihvcHRzLnJldHVybkJ5VmFsdWUpID8gb3B0cy5yZXR1cm5CeVZhbHVlIDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2NhbGxKU0Z1bmN0aW9uJzpcbiAgICAgICAgbWV0aG9kID0gJ1J1bnRpbWUuY2FsbEZ1bmN0aW9uT24nO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgb2JqZWN0SWQ6IG9wdHMub2JqSWQsXG4gICAgICAgICAgZnVuY3Rpb25EZWNsYXJhdGlvbjogb3B0cy5mbixcbiAgICAgICAgICBhcmd1bWVudHM6IG9wdHMuYXJncyxcbiAgICAgICAgICByZXR1cm5CeVZhbHVlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnc2V0VXJsJzpcbiAgICAgICAgbWV0aG9kID0gJ1BhZ2UubmF2aWdhdGUnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgdXJsOiBvcHRzLnVybCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2VuYWJsZVBhZ2UnOlxuICAgICAgICBtZXRob2QgPSAnUGFnZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ3N0YXJ0VGltZWxpbmUnOlxuICAgICAgICBtZXRob2QgPSAnVGltZWxpbmUuc3RhcnQnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ3N0b3BUaW1lbGluZSc6XG4gICAgICAgIG1ldGhvZCA9ICdUaW1lbGluZS5zdG9wJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdnZXRDb25zb2xlTG9nZ2luZ0NoYW5uZWxzJzpcbiAgICAgICAgbWV0aG9kID0gJ0NvbnNvbGUuZ2V0TG9nZ2luZ0NoYW5uZWxzJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdzZXRDb25zb2xlTG9nZ2luZ0NoYW5uZWxMZXZlbCc6XG4gICAgICAgIG1ldGhvZCA9ICdDb25zb2xlLnNldExvZ2dpbmdDaGFubmVsTGV2ZWwnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgc291cmNlOiBvcHRzLnNvdXJjZSxcbiAgICAgICAgICBsZXZlbDogb3B0cy5sZXZlbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2VuYWJsZUNvbnNvbGUnOlxuICAgICAgICBtZXRob2QgPSAnQ29uc29sZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2Rpc2FibGVDb25zb2xlJzpcbiAgICAgICAgbWV0aG9kID0gJ0NvbnNvbGUuZGlzYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnc3RhcnROZXR3b3JrJzpcbiAgICAgICAgbWV0aG9kID0gJ05ldHdvcmsuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdzdG9wTmV0d29yayc6XG4gICAgICAgIG1ldGhvZCA9ICdOZXR3b3JrLmRpc2FibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ2dldENvb2tpZXMnOlxuICAgICAgICBtZXRob2QgPSAnUGFnZS5nZXRDb29raWVzJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdkZWxldGVDb29raWUnOlxuICAgICAgICBtZXRob2QgPSAnUGFnZS5kZWxldGVDb29raWUnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgY29va2llTmFtZTogb3B0cy5jb29raWVOYW1lLFxuICAgICAgICAgIHVybDogb3B0cy51cmwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdnYXJiYWdlQ29sbGVjdCc6XG4gICAgICAgIG1ldGhvZCA9ICdIZWFwLmdjJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdhd2FpdFByb21pc2UnOlxuICAgICAgICBtZXRob2QgPSAnUnVudGltZS5hd2FpdFByb21pc2UnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgcHJvbWlzZU9iamVjdElkOiBvcHRzLnByb21pc2VPYmplY3RJZCxcbiAgICAgICAgICByZXR1cm5CeVZhbHVlOiB0cnVlLFxuICAgICAgICAgIGdlbmVyYXRlUHJldmlldzogdHJ1ZSxcbiAgICAgICAgICBzYXZlUmVzdWx0OiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNvbW1hbmQ6ICR7Y29tbWFuZH1gKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgUmVtb3RlTWVzc2FnZXMgfTtcbmV4cG9ydCBkZWZhdWx0IFJlbW90ZU1lc3NhZ2VzO1xuIl0sImZpbGUiOiJsaWIvcmVtb3RlLW1lc3NhZ2VzLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
